FROM openjdk:8-jdk-alpine

RUN apk update
RUN apk add --update maven

COPY pom.xml /usr/local/spark-base-api/pom.xml
COPY src /usr/local/spark-base-api/src

# cd /usr/local/spark-base-api
WORKDIR /usr/local/spark-base-api

RUN mvn package

# java -jar /usr/local/spark-base-api/spark-base-api.jar
ENTRYPOINT ["java","-jar","spark-base-api.jar"]
